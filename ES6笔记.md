# ES6ç¬”è®°

## letå’Œconst

### let
  - letå‘½ä»¤åªåœ¨å…¶æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ
  - letåœ¨å¾ªç¯ä¸­åªåœ¨æœ¬è½®å¾ªç¯ä¸­æœ‰æ•ˆ
  - forå¾ªç¯è®¾ç½®å˜é‡çš„éƒ¨åˆ†æ˜¯ä¸€ä¸ªçˆ¶ä½œç”¨åŸŸ,å¾ªç¯ä½“å†…éƒ¨æ˜¯ä¸€ä¸ªå•ç‹¬çš„å­ä½œç”¨åŸŸ
  - letæ²¡æœ‰å˜é‡æå‡
  - æš‚æ—¶æ€§æ­»åŒº
    - åªè¦å—çº§ä½œç”¨åŸŸå†…å­˜åœ¨letå‘½ä»¤,å®ƒæ‰€å£°æ˜çš„å˜é‡å°±"ç»‘å®š"(binding)è¿™ä¸ªåŒºåŸŸ,ä¸å†å—å¤–éƒ¨çš„å½±å“
    ```
    var tmp = 123;
    
    if (true) {
      tmp = 'abc'; // ReferenceError: tmp is not defined
      let tmp;
    }
    ```
    - ES6 æ˜ç¡®è§„å®š,å¦‚æœåŒºå—ä¸­å­˜åœ¨letå’Œconstå‘½ä»¤,è¿™ä¸ªåŒºå—å¯¹è¿™äº›å‘½ä»¤å£°æ˜çš„å˜é‡,ä»ä¸€å¼€å§‹å°±å½¢æˆäº†å°é—­ä½œç”¨åŸŸ,å‡¡æ˜¯åœ¨å£°æ˜ä¹‹å‰å°±ä½¿ç”¨è¿™äº›å˜é‡,å°±ä¼šæŠ¥é”™
    - åœ¨ä»£ç å—å†…,ä½¿ç”¨letå‘½ä»¤å£°æ˜å˜é‡ä¹‹å‰,è¯¥å˜é‡éƒ½æ˜¯ä¸å¯ç”¨çš„ã€‚è¿™åœ¨è¯­æ³•ä¸Š,ç§°ä¸º"æš‚æ—¶æ€§æ­»åŒº"
    - "æš‚æ—¶æ€§æ­»åŒº"è®©typeofä¸å†æ˜¯100%å®‰å…¨çš„æ“ä½œ
    - ä½†æ˜¯å¦‚æœä¸€ä¸ªå˜é‡æ ¹æœ¬æ²¡æœ‰è¢«å£°æ˜,ä½¿ç”¨typeofåè€Œä¸ä¼šæŠ¥é”™
    - å‡½æ•°é»˜è®¤å‚æ•°æ­»åŒº
    ```
    function bar(x = y, y = 2) { // è°ƒç”¨yçš„æ—¶å€™yè¿˜æœªå£°æ˜
      return [x, y];
    }
    
    bar(); // æŠ¥é”™
    ```
    - letèµ‹å€¼ä¸èƒ½èµ‹å€¼ç»™è‡ªèº«,å› ä¸ºèµ‹å€¼çš„æ—¶å€™è‡ªèº«è¿˜æœªå£°æ˜å®Œæˆ
    ```
    // ä¸æŠ¥é”™
    var x = x;
    
    // æŠ¥é”™
    let x = x;
    // ReferenceError: x is not defined
    ```
  - letä¸å…è®¸é‡å¤å£°æ˜
  - letæœ‰å—çº§ä½œç”¨åŸŸ
    - letå®é™…ä¸Šä¸ºJSæ–°å¢äº†å—çº§ä½œç”¨åŸŸ
    - ES6å…è®¸å—çº§ä½œç”¨åŸŸçš„ä»»æ„åµŒå¥—
    - å¤–å±‚ä½œç”¨åŸŸæ— æ³•è®¿é—®å†…å±‚ä½œç”¨åŸŸçš„å˜é‡
    - å†…å±‚ä½œç”¨åŸŸå¯ä»¥é‡æ–°å®šä¹‰å¤–å±‚ä½œç”¨åŸŸçš„åŒåå˜é‡,ä½†æ˜¯ä¸ä¼šä¿®æ”¹å¤–å±‚ä½œç”¨åŸŸçš„å†…å®¹
    ```
    {
    	let a = 1
    	{
    		let a = 2
    		console.log(a) // 2
    	}
    	console.log(a) // 1
    }
    ```
    - å—çº§ä½œç”¨åŸŸçš„å‡ºç°è®©IIFE(è‡ªæ‰§è¡Œå‡½æ•°)ä¸å†å¿…è¦äº†
  - å—çº§ä½œç”¨åŸŸå’Œå‡½æ•°å£°æ˜
    - ES5è§„å®šå‡½æ•°åªèƒ½åœ¨é¡¶å±‚ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸå†…å£°æ˜(ä½†æ˜¯æµè§ˆå™¨å…¼å®¹éæ³•çš„å†™æ³•)
    - ES6ä¸­å—çº§ä½œç”¨åŸŸä¸­çš„å‡½æ•°å£°æ˜ç±»ä¼¼let(ä¸å¯åœ¨å¤–è°ƒç”¨)
    ```
    function f() { console.log('I am outside!'); }
    
    (function () {
      if (false) {
        // é‡å¤å£°æ˜ä¸€æ¬¡å‡½æ•°f
        function f() { console.log('I am inside!'); }
      }
    
      f();
    }());
    
    // ES5ç¯å¢ƒä¼šè¾“å‡ºinside
    // ES6ç¯å¢ƒä¼šæŠ¥é”™
    ```
    - ES6å—çº§ä½œç”¨åŸŸå£°æ˜å‡½æ•°å¿…é¡»è¦æœ‰å¤§æ‹¬å·

### const
  - constå£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡,ä¸€æ—¦å£°æ˜,å¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜
  - constä¸€æ—¦å£°æ˜å˜é‡,å°±å¿…é¡»ç«‹å³åˆå§‹åŒ–
  - constä¸letç›¸åŒåªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸæœ‰æ•ˆ
  - constä¹Ÿä¸æå‡,ä¹Ÿæœ‰æš‚æ—¶æ€§æ­»åŒº,ä¹Ÿä¸èƒ½é‡å¤å£°æ˜
  - constå®é™…ä¸Šä¿è¯çš„,å¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨,è€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€æ‰€ä¿å­˜çš„æ•°æ®ä¸å¾—æ”¹åŠ¨,å› æ­¤æ— æ³•ä¿è¯å¼•ç”¨ç±»å‹å†…éƒ¨å†…å®¹ä¸æ”¹å˜

### ES6å£°æ˜çš„6ç§æ–¹æ³•
  1. var 
  2. function
  3. let
  4. const
  5. import
  6. class
  
### é¡¶å±‚å¯¹è±¡çš„å±æ€§
  - é¡¶å±‚å¯¹è±¡,åœ¨æµè§ˆå™¨ç¯å¢ƒæŒ‡çš„æ˜¯windowå¯¹è±¡,åœ¨NodeæŒ‡çš„æ˜¯globalå¯¹è±¡
  - ES5ä¹‹ä¸­,é¡¶å±‚å¯¹è±¡çš„å±æ€§ä¸å…¨å±€å˜é‡æ˜¯ç­‰ä»·çš„
  ```
  window.a = 1;
  a // 1
  
  a = 2;
  window.a // 2
  ```
  - ES6ä¸ºäº†æ”¹å˜è¿™ä¸ªé—®é¢˜å¹¶ä¿æŒå…¼å®¹æ€§
    - varå’Œfunctionå£°æ˜å…¨å±€å˜é‡ä¾æ—§æ˜¯é¡¶å±‚å¯¹è±¡çš„å±æ€§
    - letã€constã€classå£°æ˜çš„å…¨å±€å˜é‡ä¸å±äºé¡¶å±‚å¯¹è±¡å±æ€§

### globalå¯¹è±¡ 
  - ES5 çš„é¡¶å±‚å¯¹è±¡,æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªé—®é¢˜,å› ä¸ºå®ƒåœ¨å„ç§å®ç°é‡Œé¢æ˜¯ä¸ç»Ÿä¸€çš„
    - æµè§ˆå™¨é‡Œé¢,é¡¶å±‚å¯¹è±¡æ˜¯window,ä½†Nodeå’ŒWebWorkeræ²¡æœ‰window
    - æµè§ˆå™¨å’ŒWebWorkeré‡Œé¢,selfä¹ŸæŒ‡å‘é¡¶å±‚å¯¹è±¡,ä½†æ˜¯Node æ²¡æœ‰self
    - Nodeé‡Œé¢,é¡¶å±‚å¯¹è±¡æ˜¯global,ä½†å…¶ä»–ç¯å¢ƒéƒ½ä¸æ”¯æŒ
  - åŒä¸€æ®µä»£ç ä¸ºäº†èƒ½å¤Ÿåœ¨å„ç§ç¯å¢ƒ,éƒ½èƒ½å–åˆ°é¡¶å±‚å¯¹è±¡,ç°åœ¨ä¸€èˆ¬æ˜¯ä½¿ç”¨thiså˜é‡,ä½†æ˜¯æœ‰å±€é™æ€§
    - å…¨å±€ç¯å¢ƒä¸­,thisä¼šè¿”å›é¡¶å±‚å¯¹è±¡,ä½†æ˜¯,Nodeæ¨¡å—å’ŒES6æ¨¡å—ä¸­,thisè¿”å›çš„æ˜¯å½“å‰æ¨¡å—
    - å‡½æ•°é‡Œé¢çš„this,å¦‚æœå‡½æ•°ä¸æ˜¯ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è¿è¡Œ,è€Œæ˜¯å•çº¯ä½œä¸ºå‡½æ•°è¿è¡Œ,thisä¼šæŒ‡å‘é¡¶å±‚å¯¹è±¡,ä½†æ˜¯,ä¸¥æ ¼æ¨¡å¼ä¸‹,è¿™æ—¶thisä¼šè¿”å›undefinedã€‚
    - ä¸ç®¡æ˜¯ä¸¥æ ¼æ¨¡å¼,è¿˜æ˜¯æ™®é€šæ¨¡å¼,new Function('return this')(),æ€»æ˜¯ä¼šè¿”å›å…¨å±€å¯¹è±¡,ä½†æ˜¯,å¦‚æœæµè§ˆå™¨ç”¨äº† CSPï¼ˆContent Security Policy,å†…å®¹å®‰å…¨ç­–ç•¥ï¼‰,é‚£ä¹ˆevalã€new Functionè¿™äº›æ–¹æ³•éƒ½å¯èƒ½æ— æ³•ä½¿ç”¨
  - å‹‰å¼ºèƒ½ç”¨çš„è§£å†³æ–¹æ¡ˆ
  ```
  // æ–¹æ³•ä¸€
  (typeof window !== 'undefined'
     ? window
     : (typeof process === 'object' &&
        typeof require === 'function' &&
        typeof global === 'object')
       ? global
       : this);
  
  // æ–¹æ³•äºŒ
  var getGlobal = function () {
    if (typeof self !== 'undefined') { return self; }
    if (typeof window !== 'undefined') { return window; }
    if (typeof global !== 'undefined') { return global; }
    throw new Error('unable to locate global object');
  };
  ```
  - ç°åœ¨æœ‰ä¸ªææ¡ˆ,æ‰€æœ‰ç¯å¢ƒéƒ½æœ‰global

## å˜é‡çš„è§£æ„èµ‹å€¼
  - ES6 å…è®¸æŒ‰ç…§ä¸€å®šæ¨¡å¼,ä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼,å¯¹å˜é‡è¿›è¡Œèµ‹å€¼,è¿™è¢«ç§°ä¸ºè§£æ„
### æ•°ç»„çš„è§£æ„èµ‹å€¼
  - ç°åœ¨å…è®¸è¿™ä¹ˆå†™
  ```
  let [a, b, c] = [1, 2, 3]
  ```
  - å¦‚æœè§£æ„ä¸æˆåŠŸ,å˜é‡çš„å€¼å°±ç­‰äºundefined
  - å·¦å³æ•°ç»„ä¸åŒ¹é…æ—¶ä¹Ÿèƒ½æˆåŠŸè§£æ„
  - å¦‚æœç­‰å·çš„å³è¾¹ä¸æ˜¯æ•°ç»„(æˆ–è€…ä¸¥æ ¼åœ°è¯´,ä¸æ˜¯å¯éå†çš„ç»“æ„,å‚è§ã€ŠIteratorã€‹ä¸€ç« ),é‚£ä¹ˆå°†ä¼šæŠ¥é”™
  ```
  let [foo] = 1;
  let [foo] = false;
  let [foo] = NaN;
  let [foo] = undefined;
  let [foo] = null;
  let [foo] = {};
  ```
  - ä¸Šé¢çš„è¯­å¥éƒ½ä¼šæŠ¥é”™,å› ä¸ºç­‰å·å³è¾¹çš„å€¼,è¦ä¹ˆè½¬ä¸ºå¯¹è±¡ä»¥åä¸å…·å¤‡Iterator æ¥å£(å‰äº”ä¸ªè¡¨è¾¾å¼),è¦ä¹ˆæœ¬èº«å°±ä¸å…·å¤‡ Iterator æ¥å£(æœ€åä¸€ä¸ªè¡¨è¾¾å¼)
  - æŸç§æ•°æ®ç»“æ„å…·æœ‰Iteratoræ¥å£,éƒ½å¯ä»¥é‡‡ç”¨æ•°ç»„å½¢å¼çš„è§£æ„èµ‹å€¼
  ```
  function* fibs() {
    let a = 0;
    let b = 1;
    while (true) {
      yield a;
      [a, b] = [b, a + b];
    }
  }
  
  let [first, second, third, fourth, fifth, sixth] = fibs();
  sixth // 5
  ```
  - è§£æ„èµ‹å€¼å…è®¸æŒ‡å®šé»˜è®¤å€¼
  ```
  let [foo = true] = [];
  foo // true
  let [x, y = 'b'] = ['a']; // x='a', y='b'
  let [x, y = 'b'] = ['a', undefined]; // x='a', y='b'
  
  let [x = 1] = [undefined];
  x // 1
  
  let [x = 1] = [null];
  x // null nullä¸ä¸¥æ ¼ç­‰äºundefined
  ```
  - å¦‚æœé»˜è®¤å€¼æ˜¯è¡¨è¾¾å¼,é‚£ä¹ˆè¿™ä¸ªè¡¨è¾¾å¼æ˜¯æƒ°æ€§æ±‚å€¼,åªæœ‰è°ƒç”¨çš„æ—¶å€™æ‰ä¼šæ±‚å€¼
  - é»˜è®¤å€¼å¯ä»¥å¼•ç”¨è§£æ„èµ‹å€¼çš„å…¶ä»–å˜é‡,ä½†è¯¥å˜é‡å¿…é¡»å·²ç»å£°æ˜

### å¯¹è±¡çš„è§£æ„èµ‹å€¼
  - è§£æ„ä¸ä»…å¯ä»¥ç”¨äºæ•°ç»„,è¿˜å¯ä»¥ç”¨äºå¯¹è±¡ã€‚
  ```
  let { foo, bar } = { foo: "aaa", bar: "bbb" };
  foo // "aaa"
  bar // "bbb"
  ```
  - å¯¹è±¡çš„è§£æ„æ˜¯æ²¡æœ‰æ¬¡åºçš„,å˜é‡å¿…é¡»å–å±æ€§åŒå,æ‰èƒ½å–åˆ°æ­£ç¡®å€¼
  - å¦‚æœå¯¹è±¡åå’Œå±æ€§åä¸ä¸€è‡´æ—¶,å¿…é¡»å†™æˆè¿™æ ·
  ```
  let { foo: baz } = { foo: 'aaa', bar: 'bbb' };
  baz // "aaa"
  ```
  - å¯¹è±¡è§£æ„èƒ½ç”¨äºåµŒå¥—å¯¹è±¡,ä¹Ÿèƒ½è®¾ç½®é»˜è®¤å€¼,åŒæ—¶è§¦å‘é»˜è®¤å€¼å¿…é¡»ä¸¥æ ¼ç­‰äºundefined
  - å¯¹å·²å£°æ˜å˜é‡è¿›è¡Œè§£æ„èµ‹å€¼çš„æ—¶å€™,è¯·ç”¨æ‹¬å·æ‰©èµ·æ¥,ä¸ç„¶{}ä¼šè¢«è§£é‡Šæˆä»£ç å—
  - å¯¹è±¡çš„è§£æ„èµ‹å€¼,å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å°†ç°æœ‰å¯¹è±¡çš„æ–¹æ³•,èµ‹å€¼åˆ°æŸä¸ªå˜é‡ã€‚
  ```
  let { log, sin, cos } = Math;
  ```
  - ç”±äºæ•°ç»„æœ¬è´¨æ˜¯ç‰¹æ®Šçš„å¯¹è±¡,å› æ­¤å¯ä»¥å¯¹æ•°ç»„è¿›è¡Œå¯¹è±¡å±æ€§çš„è§£æ„ã€‚
  ```
  let arr = [1, 2, 3];
  let {0 : first, [arr.length - 1] : last} = arr;
  first // 1
  last // 3
  ```
  
### å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼
  - å­—ç¬¦ä¸²ä¼šè¢«è½¬æˆç±»æ•°ç»„å¯¹è±¡è¿›è¡Œè§£æ„èµ‹å€¼
  ```
  const [a, b, c, d, e] = 'hello';
  a // "h"
  b // "e"
  c // "l"
  d // "l"
  e // "o"
  ```
  - ç±»æ•°ç»„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªlengthå±æ€§,ä¹Ÿå¯ä»¥è¿›è¡Œè§£æ„èµ‹å€¼
  ```
  let {length : len} = 'hello';
  len // 5
  ```
  
### æ•°å€¼å’Œå¸ƒå°”å€¼çš„è§£æ„èµ‹å€¼
  - è§£æ„èµ‹å€¼æ—¶,å¦‚æœç­‰å·å³è¾¹æ˜¯å¸ƒå°”å€¼,ä¼šè¢«å…ˆè½¬ä¸ºå¯¹è±¡
  ```
  let {toString: s} = 123;
  s === Number.prototype.toString // true
  
  let {toString: s} = true;
  s === Boolean.prototype.toString // true
  ```
  - è§£æ„èµ‹å€¼çš„è§„åˆ™æ˜¯,åªè¦å³è¾¹çš„å€¼ä¸æ˜¯å¯¹è±¡æˆ–æ•°ç»„,å°±å…ˆè½¬ä¸ºå¯¹è±¡,å› æ­¤nullå’Œundefinedæ— æ³•è¿›è¡Œè§£æ„èµ‹å€¼
  ```
  let { prop: x } = undefined; // TypeError
  let { prop: y } = null; // TypeError
  ```
  
 ### å‡½æ•°å‚æ•°è§£æ„
  - å½“å‚æ•°ä¸ºå¯¹è±¡æ—¶,è®¾ç½®é»˜è®¤å€¼å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒ
  ```
  function move({x = 0, y = 0} = {}) {
    return [x, y];
  }
  
  move({x: 3, y: 8}); // [3, 8]
  move({x: 3}); // [3, 0]
  move({}); // [0, 0]
  move(); // [0, 0]
  ```
  - ç»“æœå–å†³äºç»™ä»€ä¹ˆè®¾ç½®é»˜è®¤å€¼
  ```
  function move({x, y} = { x: 0, y: 0 }) {
    return [x, y];
  }
  
  move({x: 3, y: 8}); // [3, 8]
  move({x: 3}); // [3, undefined]
  move({}); // [undefined, undefined]
  move(); // [0, 0]
  ```
  
### åœ†æ‹¬å·é—®é¢˜
  - ES6è§„å®š,åªè¦å¯èƒ½å¯¼è‡´è§£æ„æ­§ä¹‰,å°±ä¸èƒ½ä½¿ç”¨åœ†æ‹¬å·
  1. å˜é‡å£°æ˜è¯­å¥
  ```
  // å…¨éƒ¨æŠ¥é”™
  let [(a)] = [1];
  
  let {x: (c)} = {};
  let ({x: c}) = {};
  let {(x: c)} = {};
  let {(x): c} = {};
  
  let { o: ({ p: p }) } = { o: { p: 2 } };
  ```
  2. å‡½æ•°å‚æ•°
  ```
  // æŠ¥é”™
  function f([(z)]) { return z; }
  // æŠ¥é”™
  function f([z,(x)]) { return x; }
  ```
  3. èµ‹å€¼è¯­å¥æ¨¡å¼
  ```
  // å…¨éƒ¨æŠ¥é”™
  ({ p: a }) = { p: 42 };
  ([a]) = [5];
  [({ p: a }), { x: c }] = [{}, {}];
  ```
  - å¯ä»¥ä½¿ç”¨çš„æƒ…å†µ
    - åªæœ‰èµ‹å€¼è¯­å¥çš„éæ¨¡å¼éƒ¨åˆ†å¯ä»¥ä½¿ç”¨åœ†æ‹¬å·
    ```
    [(b)] = [3]; // æ­£ç¡®
    ({ p: (d) } = {}); // æ­£ç¡®
    [(parseInt.prop)] = [3]; // æ­£ç¡®
    ```
### ç”¨é€”
  1. äº¤æ¢å˜é‡
  ```
  let x = 1;
  let y = 2;
  
  [x, y] = [y, x];
  ```
  2. æ–¹ä¾¿åœ°ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼æå–å‚æ•°
  3. å‡½æ•°å‚æ•°çš„å®šä¹‰
  4. æ–¹ä¾¿æå–JSONæ•°æ®
  5. å‡½æ•°å‚æ•°é»˜è®¤å€¼
  6. éå†Mapç»“æ„
      ```
      const map = new Map();
      map.set('first', 'hello');
      map.set('second', 'world');
      for (let [key, value] of map) {
        console.log(key + " is " + value);
      }
      // first is hello
      // second is world
      ```
      - å¦‚æœåªæƒ³è·å–é”®å,æˆ–è€…åªæƒ³è·å–é”®å€¼,å¯ä»¥å†™æˆä¸‹é¢è¿™æ ·
      ```
      // è·å–é”®å
      for (let [key] of map) {
        // ...
      }
      
      // è·å–é”®å€¼
      for (let [,value] of map) {
        // ...
      }
      ```
    
  7. è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³•
  ```
  const { SourceMapConsumer, SourceNode } = require("source-map");
  ```
  
## å­—ç¬¦ä¸²çš„æ‹“å±•

### å­—ç¬¦çš„ Unicode è¡¨ç¤ºæ³•
  - JavaScriptå…è®¸é‡‡ç”¨\uxxxxå½¢å¼è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦,å…¶ä¸­xxxxè¡¨ç¤ºå­—ç¬¦çš„Unicodeç ç‚¹
  ```
  "\u0061"
  // "a"
  ```
  - è¿™ç§è¡¨ç¤ºæ³•åªé™äºç ç‚¹åœ¨\u0000~\uFFFFä¹‹é—´çš„å­—ç¬¦
  - è¶…å‡ºè¿™ä¸ªèŒƒå›´çš„å­—ç¬¦,å¿…é¡»ç”¨ä¸¤ä¸ªåŒå­—èŠ‚çš„å½¢å¼è¡¨ç¤º
  ```
  "\uD842\uDFB7"
  // "ğ ®·"
  
  "\u20BB7"
  // " 7"
  ```
  - ä¸Šé¢ä»£ç è¡¨ç¤º,å¦‚æœç›´æ¥åœ¨\uåé¢è·Ÿä¸Šè¶…è¿‡0xFFFFçš„æ•°å€¼(æ¯”å¦‚\u20BB7)
  - JavaScriptä¼šç†è§£æˆ\u20BB+7,ç”±äº\u20BBæ˜¯ä¸€ä¸ªä¸å¯æ‰“å°å­—ç¬¦,æ‰€ä»¥åªä¼šæ˜¾ç¤ºä¸€ä¸ªç©ºæ ¼,åé¢è·Ÿç€ä¸€ä¸ª7
  - ES6å¯¹è¿™ä¸€ç‚¹åšå‡ºäº†æ”¹è¿›,åªè¦å°†ç ç‚¹æ”¾å…¥å¤§æ‹¬å·,å°±èƒ½æ­£ç¡®è§£è¯»è¯¥å­—ç¬¦
  ```
  "\u{20BB7}"
  // "ğ ®·"
  
  "\u{41}\u{42}\u{43}"
  // "ABC"
  
  let hello = 123;
  hell\u{6F} // 123
  
  '\u{1F680}' === '\uD83D\uDE80'
  // true

  ```
  
### codePointAt
  - JSå†…éƒ¨,å­—ç¬¦ä¸²ä»¥UTF-16çš„æ ¼å¼å­˜å‚¨,æ¯ä¸ªå­—ç¬¦å›ºå®šä¸º2å­—èŠ‚,å¯¹äºå››ä¸ªå­—èŠ‚å¤§å°çš„å­—ç¬¦ä¼šè¢«å½“æˆä¸¤ä¸ªå­—ç¬¦
  - å› æ­¤charATæ— æ³•æ­£ç¡®è¯»å–éƒ¨åˆ†å­—ç¬¦ä¸²,charCodeAtåªèƒ½åˆ†åˆ«è¿”å›å‰ä¸¤ä¸ªå­—èŠ‚å’Œåä¸¤ä¸ªå­—èŠ‚çš„å€¼
  ```
  var s = "ğ ®·";
  s.length // 2
  s.charAt(0) // ''
  s.charAt(1) // ''
  s.charCodeAt(0) // 55362
  s.charCodeAt(1) // 57271
  ```
  - ES6æä¾›äº†codePointAtæ–¹æ³•èƒ½å¤Ÿæ­£ç¡®å¤„ç†å››ä¸ªå­—èŠ‚å‚¨å­˜çš„å­—ç¬¦ä¸²,è¿”å›ä¸€ä¸ªå­—èŠ‚ç ç‚¹
  - å‚æ•°æ˜¯å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®,å ä¸¤ä½å¤§å°çš„å­—èŠ‚ä¼šåœ¨ç¬¬ä¸€ä¸ªå­—èŠ‚çš„æ—¶å€™è·å–å…¨éƒ¨çš„ç ç‚¹,ç¬¬äºŒä¸ªå­—èŠ‚è·å–ç¬¬äºŒä¸ªå­—èŠ‚çš„ç ç‚¹
  ```
  let s = 'ğ ®·a';
  s.codePointAt(0) // 134071
  s.codePointAt(1) // 57271
  s.codePointAt(2) // 97
  ```
  - codePointAtæ–¹æ³•è¿”å›çš„æ˜¯ç ç‚¹çš„åè¿›åˆ¶å€¼,å¦‚æœæƒ³è¦åå…­è¿›åˆ¶çš„å€¼,å¯ä»¥ä½¿ç”¨toStringæ–¹æ³•è½¬æ¢ä¸€ä¸‹
  ```
  let s = 'ğ ®·a';
  s.codePointAt(0).toString(16) // "20bb7"
  s.codePointAt(2).toString(16) // "61"
  ``` 
  - å¦‚æœéœ€è¦å¯¹åº”ä½ç½®çš„å‚æ•°,ä½¿ç”¨for-ofå¾ªç¯,å®ƒä¼šæ­£ç¡®è¯†åˆ«32ä½UTF-16å­—ç¬¦
  ```
  let s = 'ğ ®·a';
  for (let ch of s) {
    console.log(ch.codePointAt(0).toString(16));
  }
  // 20bb7
  // 61
  ```
  
### String.fromCodePoint()
  - ES5æä¾›String.fromCharCode,ç”¨äºä»ç ç‚¹è¿”å›å¯¹åº”å­—ç¬¦ä¸²,ä½†æ˜¯ä¸èƒ½è¯†åˆ«UTF-16å­—ç¬¦
  - ES6æä¾›äº†String.fromCodePointæ–¹æ³•,è§£å†³äº†è¿™ä¸ªé—®é¢˜,æ­£å¥½å’ŒcodePointAtç›¸å
  - å¦‚æœå…¶æœ‰å¤šä¸ªå‚æ•°ä¼šè¢«åˆæˆä¸€ä¸ªå­—ç¬¦ä¸²è¿”å›
  
### å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£
  - ES6ä¸ºå­—ç¬¦ä¸²æ·»åŠ äº†éå†å™¨çš„æ¥å£,ä½¿æ‰€æœ‰å­—ç¬¦ä¸²å¯ä»¥è¢«for-oféå†
  - éå†å™¨æœ€å¤§çš„ä¼˜ç‚¹æ˜¯å¯ä»¥è¯†åˆ«å¤§äº0xFFFFçš„ç ç‚¹,ä¼ ç»Ÿçš„forå¾ªç¯æ— æ³•è¯†åˆ«è¿™æ ·çš„ç ç‚¹

### normalize
  - è®¸å¤šæ¬§æ´²è¯­è¨€æœ‰è¯­è°ƒç¬¦å·å’Œé‡éŸ³ç¬¦å·
  - ES6æä¾›äº†ä¸¤ç§æ–¹æ³•å¤„ç†è¿™ç§ç¬¦å·
    1. ç›´æ¥æä¾›å¸¦é‡éŸ³ç¬¦å·çš„å­—ç¬¦
    2. æä¾›åˆæˆç¬¦å·
  - ä¸¤ç§æ–¹æ³•è§†è§‰ä¸Šç­‰ä»·,ä½†æ˜¯JSä¸èƒ½è¯†åˆ«
  - åˆæˆå­—ç¬¦ä¼šè¢«è¯†åˆ«æˆä¸¤ä¸ªå­—ç¬¦ä¸²
  - normalizeæ–¹æ³•å¯ä»¥æ¥å—ä¸€ä¸ªå‚æ•°æ¥æŒ‡å®šnormalizeæ–¹å¼
    1. NFC
       - é»˜è®¤å‚æ•°
       - æ ‡å‡†ç­‰ä»·åˆæˆ
       - è¿”å›å¤šä¸ªç®€å•å­—ç¬¦ä¸²çš„åˆæˆå­—ç¬¦ä¸²
       - æ ‡å‡†ç­‰ä»·æ˜¯è¯´è§†è§‰å’Œè¯­ä¹‰ä¸Šçš„ç­‰ä»·
    2. NFD
       - æ ‡å‡†ç­‰ä»·åˆ†è§£
       - æ ‡å‡†ç­‰ä»·å‰æä¸‹,è¿”å›åˆæˆå­—ç¬¦åˆ†è§£çš„å¤šä¸ªç®€å•å­—ç¬¦
    3. NFKC
       - å…¼å®¹ç­‰ä»·åˆæˆ
       - è¿”å›åˆæˆå­—ç¬¦
       - å…¼å®¹ç­‰ä»·æŒ‡çš„æ˜¯è¯­ä¹‰ä¸Šç­‰ä»·è§†è§‰ä¸Šä¸ç­‰ä»·
    4. NFKD
       - å…¼å®¹ç­‰ä»·åˆ†è§£
       - å…¼å®¹ç­‰ä»·å‰æä¸‹,è¿”å›åˆæˆå­—ç¬¦åˆ†è§£çš„ç®€å•å­—ç¬¦

### includes(),startsWith(),endsWith()
  - ä¼ ç»Ÿä¸Š,JavaScript åªæœ‰indexOfæ–¹æ³•,å¯ä»¥ç”¨æ¥ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­
  - ES6åˆæä¾›äº†ä¸‰ç§æ–°æ–¹æ³•
    1. includes
       - è¿”å›å¸ƒå°”å€¼
       - è¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å­—ç¬¦ä¸²
    2. startsWith
       - è¿”å›å¸ƒå°”å€¼
       - è¡¨ç¤ºå‚æ•°å­—ç¬¦æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²å¤´éƒ¨
    3. endsWith
       - è¿”å›å¸ƒå°”å€¼
       - è¡¨ç¤ºå‚æ•°å­—ç¬¦æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²å°¾éƒ¨
  - éƒ½æ”¯æŒç¬¬äºŒä¸ªå‚æ•°è¡¨å¼€å§‹æœç´¢çš„ä½ç½®
  
### repeat
  - reqeatè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²,è¡¨ç¤ºå°†åŸå­—ç¬¦ä¸²é‡å¤Næ¬¡
  - å‚æ•°å¦‚æœæ˜¯å°æ•°,ä¼šè¢«å–æ•´
  - å‚æ•°å¦‚æœæ˜¯è´Ÿæ•°æˆ–è€…Infinityå°±ä¼šæŠ¥é”™
  - å¦‚æœæ˜¯0åˆ°-1çš„å°æ•°,ç­‰åŒäº0
  - NaNç­‰åŒäº0
  - å­—ç¬¦ä¸²ä¼šè¢«è½¬ä¸ºæ•°å­—
  
### padStart(),padEnd()
  - ES2017å¼•å…¥çš„å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦åŠŸèƒ½,å¦‚æœå­—ç¬¦ä¸²ä¸å¤ŸæŸä¸€é•¿åº¦,ä¼šåœ¨å¤´éƒ¨æˆ–å°¾éƒ¨è¡¥å…¨
    1. padStart
       - åœ¨å¤´éƒ¨è¡¥å…¨
    2. padEnd
       - åœ¨å°¾éƒ¨è¡¥å…¨
  - ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¡¥å…¨ç”Ÿæ•ˆçš„é•¿åº¦
  - ç¬¬äºŒä¸ªå‚æ•°è¡¨è¡¥å…¨çš„å­—ç¬¦ä¸²
  - çœç•¥ç¬¬äºŒä¸ªå‚æ•°é»˜è®¤è¡¥å…¨ç©ºæ ¼
  - ä¸€èˆ¬ç”¨äºè¡¥å…¨æ•°å­—ä½æ•°æ´»ç€æç¤ºå­—ç¬¦ä¸²æ ¼å¼
  ```
  '12'.padStart(10, 'YYYY-MM-DD') // "YYYY-MM-12"
  '09-12'.padStart(10, 'YYYY-MM-DD') // "YYYY-09-12"
  ```
  
### æ¨¡ç‰ˆå­—ç¬¦ä¸²
  - æ¨¡ç‰ˆå­—ç¬¦ä¸²å¯ä»¥åµŒå¥—
  - å¯ä»¥ç”¨evalæˆ–è€…Functionæ„é€ å‡½æ•°å¼•ç”¨æ¨¡ç‰ˆå­—ç¬¦ä¸²æœ¬èº«
  ```
  // å†™æ³•ä¸€
  let str = 'return ' + '`Hello ${name}!`';
  let func = new Function('name', str);
  func('Jack') // "Hello Jack!"
  
  // å†™æ³•äºŒ
  let str = '(name) => `Hello ${name}!`';
  let func = eval.call(null, str);
  func('Jack') // "Hello Jack!"
  ```
  
### æ¨¡ç‰ˆç¼–è¯‘
  ```
  let template = `
  <ul>
    <% for(let i=0; i < data.supplies.length; i++) { %>
      <li><%= data.supplies[i] %></li>
    <% } %>
  </ul>
  `;
  ```
  æ­¤æ¨¡ç‰ˆä½¿ç”¨<%...%>æ”¾ç½®JSä»£ç ç”¨<%=...%>æ”¾ç½®è¡¨è¾¾å¼
  - ä¸¤ç§ç¼–è¯‘æ¨¡ç‰ˆå­—ç¬¦ä¸²æ€è·¯
    1. è½¬æ¢ä¸ºJSè¡¨è¾¾å¼å­—ç¬¦ä¸²
    ```
    echo('<ul>');
    for(let i=0; i < data.supplies.length; i++) {
      echo('<li>');
      echo(data.supplies[i]);
      echo('</li>');
    };
    echo('</ul>');

    ```
      - ç”¨æ­£åˆ™è¡¨è¾¾å¼è½¬æ¢
    ```
    let evalExpr = /<%=(.+?)%>/g;
    let expr = /<%([\s\S]+?)%>/g;
    
    template = template
      .replace(evalExpr, '`); \n  echo( $1 ); \n  echo(`')
      .replace(expr, '`); \n $1 \n  echo(`');
    
    template = 'echo(`' + template + '`);';
    ```
    - ç„¶åæŠŠtemplateå°è£…åˆ°ä¸€ä¸ªå‡½æ•°å†…è¿”å›
    - å°è£…æˆä¸€ä¸ªæ¨¡ç‰ˆç¼–è¯‘å‡½æ•°
    ```
    function compile(template){
      const evalExpr = /<%=(.+?)%>/g;
      const expr = /<%([\s\S]+?)%>/g;
    
      template = template
        .replace(evalExpr, '`); \n  echo( $1 ); \n  echo(`')
        .replace(expr, '`); \n $1 \n  echo(`');
    
      template = 'echo(`' + template + '`);';
    
      let script =
      `(function parse(data){
        let output = "";
    
        function echo(html){
          output += html;
        }
    
        ${ template }
    
        return output;
      })`;
    
      return script;
    }
    // è°ƒç”¨
    let parse = eval(compile(template));
    div.innerHTML = parse({ supplies: [ "broom", "mop", "cleaner" ] });
    ```

### æ¨¡ç‰ˆæ ‡ç­¾
  - æ¨¡ç‰ˆå­—ç¬¦ä¸²è¿˜èƒ½ç´§è·Ÿåœ¨ä¸€ä¸ªå‡½æ•°åé¢,è¯¥å‡½æ•°è¢«è°ƒç”¨ç”¨äºå¤„ç†è¿™ä¸ªæ¨¡ç‰ˆå­—ç¬¦ä¸²
  ```
  alert`123`
  // ç­‰åŒäº
  alert(123)
  ```
  - æ ‡ç­¾æ¨¡æ¿å…¶å®ä¸æ˜¯æ¨¡æ¿,è€Œæ˜¯å‡½æ•°è°ƒç”¨çš„ä¸€ç§ç‰¹æ®Šå½¢å¼
  - æ ‡ç­¾æŒ‡çš„å°±æ˜¯å‡½æ•°,ç´§è·Ÿåœ¨åé¢çš„æ¨¡æ¿å­—ç¬¦ä¸²å°±æ˜¯å®ƒçš„å‚æ•°
  - å¦‚æœæ¨¡ç‰ˆå­—ç¬¦ä¸²å†…æœ‰å˜é‡,ä¼šå°†æ¨¡ç‰ˆå­—ç¬¦ä¸²é¢„å…ˆå¤„ç†æˆå¤šä¸ªå‚æ•°,å†è°ƒç”¨å‡½æ•°
  ```
  let a = 5;
  let b = 10;
  
  tag`Hello ${ a + b } world ${ a * b }`;
  // ç­‰åŒäº
  tag(['Hello ', ' world ', ''], 15, 50);
  
  // function tag(stringArr, ...values){}
  ```
  - å¯ä»¥æŠŠå­—ç¬¦ä¸²å…¨éƒ¨é‡æ–°æ‹¼å›å»
  ```
  function passthru(literals, ...values) {
    let output = "";
    let index;
    for (index = 0; index < values.length; index++) {
      output += literals[index] + values[index];
    }
  
    output += literals[index]
    return output;
  }
  ```
  - æ¨¡ç‰ˆæ ‡ç­¾çš„é‡è¦ä½œç”¨
    1. è¿‡æ»¤HTMLå­—ç¬¦ä¸²,é˜²æ­¢ç”¨æˆ·è¾“å…¥æ¶æ„å†…å®¹
       - ç”¨æ¨¡ç‰ˆæ ‡ç­¾è½¬ä¹‰æ‰€æœ‰ç”¨æˆ·è¾“å…¥çš„ç‰¹æ®Šå­—ç¬¦
    2. å¤šè¯­è¨€è½¬åŒ–
    3. åµŒå…¥å…¶ä»–è¯­è¨€
  - æ¨¡ç‰ˆå¤„ç†å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°(æ¨¡ç‰ˆå­—ç¬¦ä¸²æ•°ç»„)è¿˜æœ‰ä¸€ä¸ªrawå±æ€§
  - rawå±æ€§ä¿å­˜è½¬ä¹‰åçš„åŸå­—ç¬¦ä¸²
  ```
  tag`First line\nSecond line`
  
  function tag(strings) {
    console.log(strings.raw[0]);
    // strings.raw[0] ä¸º "First line\\nSecond line"
    // æ‰“å°è¾“å‡º "First line\nSecond line"
  }
  ```
  
### String.raw()
  - ES6ä¸ºåŸç”ŸStringæ–¹æ³•æä¾›äº†ä¸€ä¸ªrawæ–¹æ³•,å¤šç”¨äºå……å½“æ¨¡ç‰ˆå­—ç¬¦ä¸²çš„å¤„ç†å‡½æ•°,è¿”å›ä¸€ä¸ªæ–œæ éƒ½è¢«è½¬ä¹‰(æ–œæ å‰å†åŠ ä¸€ä¸ªæ–œæ )çš„å­—ç¬¦ä¸²
  - rawæ–¹æ³•æ—¢å¯ä»¥ä½œä¸ºå¤„ç†æ¨¡ç‰ˆå­—ç¬¦ä¸²çš„åŸºæœ¬æ–¹æ³•,ä¹Ÿå¯ä»¥ä½œä¸ºæ­£å¸¸å‡½æ•°ä½¿ç”¨,æ­¤æ—¶ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªå…·æœ‰rawå±æ€§çš„å¯¹è±¡,å¹¶ä¸”å€¼ä¸ºæ•°ç»„
  ```
  String.raw({ raw: 'test' }, 0, 1, 2);
  // 't0e1s2t'
  
  // ç­‰åŒäº
  String.raw({ raw: ['t','e','s','t'] }, 0, 1, 2);
  ```
  - rawçš„å®ç°å¦‚ä¸‹
  ```
  String.raw = function (strings, ...values) {
    let output = '';
    let index;
    for (index = 0; index < values.length; index++) {
      output += strings.raw[index] + values[index];
    }
  
    output += strings.raw[index]
    return output;
  }
  ```
  
### æ¨¡æ¿å­—ç¬¦ä¸²çš„é™åˆ¶ 
  - æ¨¡ç‰ˆå­—ç¬¦ä¸²é»˜è®¤ä¼šæŠŠå­—ç¬¦ä¸²è½¬ä¹‰,å¯¼è‡´æ— æ³•åµŒå…¥å…¶ä»–è¯­è¨€
  - ES6æ”¾å¼€äº†å¯¹è½¬ä¹‰çš„é™åˆ¶
  
## æ­£åˆ™çš„æ‰©å±•
  - ES5ä¸­,RegExpæ„é€ å‡½æ•°æœ‰ä¸¤ç§æƒ…å†µ
    1. å‚æ•°æ˜¯å­—ç¬¦ä¸²,è¿™æ—¶ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦(flag)
    ```
    var regex = new RegExp(/xyz/i);
    // ç­‰ä»·äº
    var regex = /xyz/i;
    ```
    2. å‚æ•°æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨ç¤ºå¼,è¿™æ—¶ä¼šè¿”å›ä¸€ä¸ªåŸæœ‰æ­£åˆ™è¡¨è¾¾å¼çš„æ‹·è´
    ```
    var regex = new RegExp(/xyz/i);
    // ç­‰ä»·äº
    var regex = /xyz/i;
    ```
  - ES5ä¸å…è®¸ä¼ é€’æ­£åˆ™è¡¨è¾¾å¼æ—¶ä¼ é€’ç¬¬äºŒä¸ªå‚æ•°å½“ä¿®é¥°ç¬¦
  - ES6ä¿®å¤äº†è¿™ä¸ªé—®é¢˜,ç¬¬äºŒä¸ªå‚æ•°çš„ä¿®é¥°ç¬¦ä¼šè¦†ç›–åŸæœ‰ä¿®é¥°ç¬¦
  
### å­—ç¬¦ä¸²çš„æ­£åˆ™æ–¹æ³•
  1. match
  2. replace
  3. search
  4. split
  - ES6å°†è¿™4ä¸ªæ–¹æ³•,åœ¨è¯­è¨€å†…éƒ¨å…¨éƒ¨è°ƒç”¨RegExpçš„å®ä¾‹æ–¹æ³•,ä»è€Œåšåˆ°æ‰€æœ‰ä¸æ­£åˆ™ç›¸å…³çš„æ–¹æ³•,å…¨éƒ½å®šä¹‰åœ¨RegExpå¯¹è±¡ä¸Š

### uä¿®é¥°ç¬¦
  - ES6å¯¹æ­£åˆ™è¡¨è¾¾å¼æ·»åŠ äº†uä¿®é¥°ç¬¦,å«ä¹‰ä¸ºUnicodeæ¨¡å¼
  - ç”¨äºæ­£ç¡®å¤„ç†å¤§äº\uFFFFçš„Unicodeå­—ç¬¦(æ­£ç¡®å¤„ç†UTF-16ç¼–ç )
  ```
  /^\uD83D/u.test('\uD83D\uDC2A') // false
  /^\uD83D/.test('\uD83D\uDC2A') // true
  ```
  - uä¿®é¥°ç¬¦ä¼šä¿®æ”¹ä»¥ä¸‹è¡Œä¸º
    1. ç‚¹å­—ç¬¦
       - .å­—ç¬¦åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­,å«ä¹‰æ˜¯é™¤äº†æ¢è¡Œä¹‹å¤–çš„ä»»æ„å•ä¸ªå­—ç¬¦,ä½†æ˜¯å¯¹äºå¤§äº\uFFFFçš„å­—ç¬¦æ— æ³•è¯†åˆ«å¿…é¡»åŠ ä¸Šuä¿®é¥°ç¬¦
    2. Unicodeå­—ç¬¦è¡¨ç¤ºæ³•
       - ES6æ–°å¢äº†ä½¿ç”¨å¤§æ‹¬å·è¡¨ç¤ºUnicodeå­—ç¬¦,è¿™ç§è¡¨ç¤ºæ³•å¿…é¡»åŠ ä¸Šuä¿®é¥°ç¬¦æ‰èƒ½è¯†åˆ«å¤§æ‹¬å·
    3. é‡è¯
       - æ·»åŠ uä¿®é¥°ç¬¦ä¹‹å,æ‰€æœ‰é‡è¯éƒ½ä¼šæ­£ç¡®è¯†åˆ«å¤§äº\uFFFFçš„å­—ç¬¦
    4. é¢„å®šä¹‰æ¨¡å¼
    5. iä¿®é¥°ç¬¦
    
 ### RegExp.prototype.unicode
  - è¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†uä¿®é¥°ç¬¦
  
### yä¿®é¥°ç¬¦
  - é™¤äº†uä¿®é¥°ç¬¦,ES6è¿˜ä¸ºæ­£åˆ™è¡¨è¾¾å¼æ·»åŠ äº†yä¿®é¥°ç¬¦,å«åš'ç²˜è¿'(sticky)ä¿®é¥°ç¬¦
  - ä¸gä¿®é¥°ç¬¦ç±»ä¼¼,éƒ½æ˜¯å…¨å±€åŒ¹é…,åä¸€æ¬¡åŒ¹é…ä»å‰ä¸€æ¬¡æˆåŠŸæœªçŸ¥å¼€å§‹
  - ä¸åŒåœ¨äºgä¿®é¥°ç¬¦åªè¦å‰©ä½™ä½ç½®ä¸­å­˜åœ¨åŒ¹é…å°±è¡Œ,yä¿®é¥°ç¬¦ç¡®ä¿åŒ¹é…å¿…é¡»ä»å‰©ä½™çš„ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹
  ```
  var s = 'aaa_aa_a';
  var r1 = /a+/g;
  var r2 = /a+/y;
  
  r1.exec(s) // ["aaa"]
  r2.exec(s) // ["aaa"]
  
  r1.exec(s) // ["aa"]
  r2.exec(s) // null å› ä¸ºå‰©ä½™å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯_
  ```
  - yä¿®é¥°ç¬¦å·éšå«äº†å¤´éƒ¨åŒ¹é…çš„æ ‡å¿—^,yä¿®é¥°ç¬¦çš„è®¾è®¡æœ¬æ„,å°±æ˜¯è®©å¤´éƒ¨åŒ¹é…çš„æ ‡å¿—^åœ¨å…¨å±€åŒ¹é…ä¸­éƒ½æœ‰æ•ˆ
  - å•å•ä¸€ä¸ªyä¿®é¥°ç¬¦å¯¹matchæ–¹æ³•,åªèƒ½è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…,å¿…é¡»ä¸gä¿®é¥°ç¬¦è”ç”¨,æ‰èƒ½è¿”å›æ‰€æœ‰åŒ¹é…
  ```
  'a1a2a3'.match(/a\d/y) // ["a1"]
  'a1a2a3'.match(/a\d/gy) // ["a1", "a2", "a3"]
  ```
  - yä¿®é¥°ç¬¦çš„ä¸€ä¸ªåº”ç”¨,æ˜¯ä»å­—ç¬¦ä¸²æå–token(è¯å…ƒ)yä¿®é¥°ç¬¦ç¡®ä¿äº†åŒ¹é…ä¹‹é—´ä¸ä¼šæœ‰æ¼æ‰çš„å­—ç¬¦
  ```
  const TOKEN_Y = /\s*(\+|[0-9]+)\s*/y;
  const TOKEN_G  = /\s*(\+|[0-9]+)\s*/g;
  
  tokenize(TOKEN_Y, '3 + 4')
  // [ '3', '+', '4' ]
  tokenize(TOKEN_G, '3 + 4')
  // [ '3', '+', '4' ]
  
  function tokenize(TOKEN_REGEX, str) {
    let result = [];
    let match;
    while (match = TOKEN_REGEX.exec(str)) {
      result.push(match[1]);
    }
    return result;
  }
  
  tokenize(TOKEN_Y, '3x + 4')
  // [ '3' ] 
  tokenize(TOKEN_G, '3x + 4')
  // [ '3', '+', '4' ] gä¼šå¿½ç•¥éæ³•å­—ç¬¦x
  ```
  
### RegExp.prototype.sticky
  - æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦åŒ…å«yä¿®é¥°ç¬¦
  
### RegExp.prototype.sticky
  - è¿”å›æ­£åˆ™è¡¨è¾¾å¼ä¿®é¥°ç¬¦
  
### sä¿®é¥°ç¬¦:dotAllæ¨¡å¼
  - æ­£åˆ™è¡¨è¾¾å¼ä¸­,(.)æ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦,ä»£è¡¨ä»»æ„å•ä¸ªå­—ç¬¦,ä½†æ˜¯æœ‰ä¸¤ä¸ªä¾‹å¤–
    1. å››ä¸ªå­—èŠ‚çš„UTF16å­—ç¬¦,å¯ä»¥ç”¨uä¿®é¥°ç¬¦è§£å†³
    2. è¡Œç»ˆæ­¢ç¬¦
  - è¡Œç»ˆæ­¢ç¬¦æŒ‡çš„æ˜¯ä¸€è¡Œçš„ç»ˆç»“
    1. U+000A æ¢è¡Œç¬¦ï¼ˆ\nï¼‰
    2. U+000D å›è½¦ç¬¦ï¼ˆ\rï¼‰
    3. U+2028 è¡Œåˆ†éš”ç¬¦ï¼ˆline separatorï¼‰
    4. U+2029 æ®µåˆ†éš”ç¬¦ï¼ˆparagraph separatorï¼‰
  - sä¿®é¥°ç¬¦å¯ä»¥è®©.åŒ¹é…ä»»æ„å­—ç¬¦
  - è¿™è¢«ç§°ä½œdotAllæ¨¡å¼,å› æ­¤è¿˜å¼•å…¥äº†ä¸€ä¸ªdotAllå±æ€§,è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦æœ‰sä¿®é¥°ç¬¦
  - /sä¿®é¥°ç¬¦å’Œå¤šè¡Œä¿®é¥°ç¬¦/mä¸å†²çª,ä¸¤è€…ä¸€èµ·ä½¿ç”¨çš„æƒ…å†µä¸‹,.åŒ¹é…æ‰€æœ‰å­—ç¬¦,è€Œ^å’Œ$åŒ¹é…æ¯ä¸€è¡Œçš„è¡Œé¦–å’Œè¡Œå°¾

### åè¡Œæ–­è¨€
  - JavaScriptè¯­è¨€çš„æ­£åˆ™è¡¨è¾¾å¼,åªæ”¯æŒå…ˆè¡Œæ–­è¨€(lookahead)å’Œå…ˆè¡Œå¦å®šæ–­è¨€(negative lookahead)ä¸æ”¯æŒåè¡Œæ–­è¨€(lookbehind)å’Œåè¡Œå¦å®šæ–­è¨€(negative lookbehind)
  - ES2018 å¼•å…¥åè¡Œæ–­è¨€,V8å¼•æ“4.9ç‰ˆ(Chrome 62)å·²ç»æ”¯æŒ
  - å…ˆè¡Œæ–­è¨€
    - åªæœ‰xåœ¨yå‰é¢æ‰åŒ¹é…,å¿…é¡»å†™æˆ`/x(?=y)/`
  - å…ˆè¡Œå¦å®šæ–­è¨€
    - xåªæœ‰ä¸åœ¨yå‰é¢æ‰åŒ¹é…,å¿…é¡»å†™æˆ`/x(?!y)/`
  - æ–­è¨€å†…éƒ¨çš„å†…å®¹å¦‚yæ˜¯ä¸è®¡å…¥è¿”å›ç»“æœé‡Œçš„
  - åè¡Œæ–­è¨€æ­£å¥½ä¸å…ˆè¡Œæ–­è¨€ç›¸å,xåªæœ‰åœ¨yåé¢æ‰åŒ¹é…,å¿…é¡»å†™æˆ`/(?<=y)x/`
  - åè¡Œå¦å®šæ–­è¨€,`/(?<!y)x/`
  - æ‹¬å·å†…éƒ¨åˆ†ä¹Ÿä¸è®¡å…¥è¿”å›ç»“æœ
  - åè¡Œæ–­è¨€ä»åå¼€å§‹åŒ¹é…
  
### Unicodeå±æ€§ç±»
  - ES6å¼•å…¥äº†æ–°çš„ç±»å†™æ³•`\p{}`å’Œ`\P{}`,å…è®¸æ­£åˆ™åŒ¹é…ç¬¦åˆUnicodeæŸç§å±æ€§çš„æ‰€æœ‰å­—ç¬¦
  ```
  const regexGreekSymbol = /\p{Script=Greek}/u;
  regexGreekSymbol.test('Ï€') // true
  ```
  - ä¸Šé¢ä»£ç ä¸­,`\p{Script=Greek}`æŒ‡å®šåŒ¹é…ä¸€ä¸ªå¸Œè…Šæ–‡å­—æ¯,æ‰€ä»¥åŒ¹é…Ï€æˆåŠŸ
  - Unicodeå±æ€§ç±»è¦æŒ‡å®šå±æ€§åå’Œå±æ€§å€¼
  ```
  \p{UnicodePropertyName=UnicodePropertyValue}
  ```
  - `\P{}`æ˜¯`\p{}`çš„åå‘åŒ¹é…
  - åªå¯¹Unicodeæœ‰æ•ˆ
  ```
  const regex = /^\p{Decimal_Number}+$/u;
  regex.test('ğŸğŸğŸ‘ğŸœğŸğŸğŸ©ğŸªğŸ«ğŸ¬ğŸ­ğŸ®ğŸ¯ğŸºğŸ»ğŸ¼') // true
  // å±æ€§ç±»æŒ‡å®šåŒ¹é…æ‰€æœ‰åè¿›åˆ¶å­—ç¬¦,å¯ä»¥çœ‹åˆ°å„ç§å­—å‹çš„åè¿›åˆ¶å­—ç¬¦éƒ½ä¼šåŒ¹é…æˆåŠŸã€‚
  ```
  - `\p{Number}`ç”šè‡³èƒ½åŒ¹é…ç½—é©¬æ•°å­—
  - å…¶ä»–ä¸€äº›ä¾‹å­
  ```
  // åŒ¹é…æ‰€æœ‰ç©ºæ ¼
  \p{White_Space}
  
  // åŒ¹é…å„ç§æ–‡å­—çš„æ‰€æœ‰å­—æ¯ï¼Œç­‰åŒäº Unicode ç‰ˆçš„ \w
  [\p{Alphabetic}\p{Mark}\p{Decimal_Number}\p{Connector_Punctuation}\p{Join_Control}]
  
  // åŒ¹é…å„ç§æ–‡å­—çš„æ‰€æœ‰éå­—æ¯çš„å­—ç¬¦ï¼Œç­‰åŒäº Unicode ç‰ˆçš„ \W
  [^\p{Alphabetic}\p{Mark}\p{Decimal_Number}\p{Connector_Punctuation}\p{Join_Control}]
  
  // åŒ¹é… Emoji
  /\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|\p{Emoji_Presentation}|\p{Emoji}\uFE0F/gu
  
  // åŒ¹é…æ‰€æœ‰çš„ç®­å¤´å­—ç¬¦
  const regexArrows = /^\p{Block=Arrows}+$/u;
  regexArrows.test('â†â†‘â†’â†“â†”â†•â†–â†—â†˜â†™â‡â‡â‡‘â‡’â‡“â‡”â‡•â‡–â‡—â‡˜â‡™â‡§â‡©') // true
  ```
  
### å…·åç»„åŒ¹é…
  - ES2018å¼•å…¥äº†å…·åç»„åŒ¹é…,å…è®¸ç»™åŒ¹é…ç»„å–å
  ```
  const RE_DATE = /(\d{4})-(\d{2})-(\d{2})/;
  // ä¸æ˜“è¯»
  const matchObj = RE_DATE.exec('1999-12-31');
  const year = matchObj[1]; // 1999
  const month = matchObj[2]; // 12
  const day = matchObj[3]; // 31
  
  const RE_DATE = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/;
  // æ˜“è¯»
  ```
  
### è§£æ„èµ‹å€¼å’Œæ›¿æ¢
  - æœ‰äº†å…·åç»„åŒ¹é…ä»¥å,å¯ä»¥ä½¿ç”¨è§£æ„èµ‹å€¼ç›´æ¥ä»åŒ¹é…ç»“æœä¸Šä¸ºå˜é‡èµ‹å€¼
  - å­—ç¬¦ä¸²æ›¿æ¢æ—¶,ä½¿ç”¨$<ç»„å>å¼•ç”¨å…·åç»„
  ```
  let re = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/u;
  
  '2015-01-02'.replace(re, '$<day>/$<month>/$<year>')
  // '02/01/2015'
  ```
  - å¯ä»¥é€šè¿‡`\k<ç»„å>`è°ƒç”¨å…·åç»„åŒ¹é…
  ```
  const RE_TWICE = /^(?<word>[a-z]+)!\k<word>$/;
  RE_TWICE.test('abc!abc') // true
  RE_TWICE.test('abc!ab') // false
  ```
### String.prototype.matchAll
  - è¿˜åœ¨ææŒ‰é˜¶æ®µ
  - ä¸€æ¬¡æ€§è¿”å›æ‰€æœ‰åŒ¹é…,ä½†æ˜¯è¿”å›ä¸€ä¸ªIterator,å› æ­¤å¯ä»¥ç”¨for-ofå–å‡º
  
## æ•°å€¼çš„æ‹“å±•

### äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶è¡¨ç¤ºæ³•
  - ES6æä¾›äº†äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶æ•°å€¼çš„æ–°çš„å†™æ³•,åˆ†åˆ«ç”¨å‰ç¼€0b(æˆ–0B)å’Œ0o(æˆ–0O)è¡¨ç¤º
  ```
  0b111110111 === 503 // true
  0o767 === 503 // true
  ```
  - ä»ES5å¼€å§‹,åœ¨ä¸¥æ ¼æ¨¡å¼ä¹‹ä¸­,å…«è¿›åˆ¶å°±ä¸å†å…è®¸ä½¿ç”¨å‰ç¼€0è¡¨ç¤º,ES6è¿›ä¸€æ­¥æ˜ç¡®,è¦ä½¿ç”¨å‰ç¼€0oè¡¨ç¤º
  - å¦‚æœè¦å°†0bå’Œ0oå‰ç¼€çš„å­—ç¬¦ä¸²æ•°å€¼è½¬ä¸ºåè¿›åˆ¶,è¦ä½¿ç”¨Numberæ–¹æ³•
    
### Number.isFinite(),Number.isNaN()
  - Number.isFinite()ç”¨æ¥æ£€æµ‹ä¸€ä¸ªæ•°å€¼æ˜¯å¦æ˜¯æœ‰é™çš„
  - Number.isNaN()ç”¨æ¥æ£€æµ‹ä¸€ä¸ªæ•°å€¼æ˜¯å¦æ˜¯NaN
  
### Number.parseInt(),Number.parseFloat()
  - ä»å…¨å±€æ–¹æ³•ç§»åˆ°äº†Numberå¯¹è±¡ä¸Š

### Number.isInteger()
  - Number.isInteger()åˆ¤æ–­ä¸€ä¸ªæ•°å­—æ˜¯å¦æ˜¯æ•´æ•°
  - JSä¸­æ•´æ•°å’Œæµ®ç‚¹æ•°ç”¨çš„æ˜¯ç›¸åŒçš„å­˜å‚¨æ–¹å¼,25å’Œ25.0æ˜¯åŒæ ·çš„å€¼
  - ç”±äºJavaScripté‡‡ç”¨IEEE754æ ‡å‡†,æ•°å€¼å­˜å‚¨ä¸º64ä½åŒç²¾åº¦æ ¼å¼,æ•°å€¼ç²¾åº¦æœ€å¤šå¯ä»¥è¾¾åˆ°53ä¸ªäºŒè¿›åˆ¶ä½(1ä¸ªéšè—ä½ä¸52ä¸ªæœ‰æ•ˆä½)
  - å¦‚æœæ•°å€¼çš„ç²¾åº¦è¶…è¿‡è¿™ä¸ªé™åº¦,ç¬¬54ä½åŠåé¢çš„ä½å°±ä¼šè¢«ä¸¢å¼ƒ,è¿™ç§æƒ…å†µä¸‹,Number.isIntegerå¯èƒ½ä¼šè¯¯åˆ¤
  - å¦‚æœå°äº5E-324(JSæœ€å°å€¼)å¯èƒ½ä¹Ÿä¼šè¢«è¯¯åˆ¤
    
